<!--Author: Faye Miguel-->
<!--Resources: https://www.w3schools.com-->
<!--This page has the code for the products and how to put products in cart-->

<script src="product_data.js" type="text/javascript"></script>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Marikit</title>
    <link rel="stylesheet" href="product_style.css">
    <style id=localstyle>
        .item img {
    width: 150px;
    height: 150px;
        }
    </style>
</head>

<body>
    <script>
            function Check_Quantity_Box() {
                errs_array = isNonNegInt(Quantity_Box.value, true)
                Qty_Box_Message.innerHTML = errs_array.join(',')
            }
            function isNonNegInt(q, returnErrors = false) {
                errors = [];
            //assuming that at first try there's no errors but if there is, here is the following code
                if (Number(q) != q) errors.push('Not a number!');
                if (q < 0) errors.push('Negative value!')
                if (parseInt(q) != q) errors.push('Not an integer!');
                return returnErrors ? errors : (errors.length == 0);
                }
            function displayPurchase() {
                if (isNonNegInt(GET['Quantity_Box'])) {
                    document.write(`Mahalo for supporting Marikit and your ${GET['Quantity_Box']} bracelets are on the way!`);
                }
                else { alert('PLEASE ENTER VALID QUANTITY!') }
                }
            //The following codes gets the query string values
                let params = (new URL(document.location)).searchParams;
                GET = {};
                params.forEach(function (value, key) { GET[key] = value });
                if (typeof GET['Quantity_Box'] != 'undefined') {
                displayPurchase();
                window.stop();}
        </script>

    <!--the following codes is for the navigation bar-->
    <ul>
        <li><a href="./index.html">Home</a></li>
        <li><a class="active" href="./product_page.html">Collection</a></li>
        <li><a href="./cart_page.html">Cart</a></li>
    </ul>

    <!--this code puts the whole body of the website not overlapping the navbar-->
    <div style="margin-left:25%;">
<br>

    <!--Consistent title with same format for all pages-->
    <h1 style="text-align: center">Fall 2019 Collection</h1>

<div style="text-align: center">
        <script>
            for (i = 0; i < products.length; i++) {
                    document.write(`
            <section class="item">
            <h2>${products[i].bracelet}</h2>
            <h3>$${products[i].price}</h3>
            <img src="./images/${products[i].image}">
            <br>
            <input type="text"
                    name="quantity${i}"
                    onkeyup="Check_Quantity_Box(this)"
                    placeholder="QUANTITY">
            `);}
        </script>
        <br>
        <br>
        <input type="button"
        class="button"
        name="purchase_submit"
        value="ADD TO CART">
</div>
</body>